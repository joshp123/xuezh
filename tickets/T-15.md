---
id: T-15
title: Azure Speech pronunciation assessment backend (free-tier only)
order: 15
depends_on: ["T-10"]
blocks: []
implements_commands: ["audio.assess", "audio.process-voice"]
user_requirements: ["UR-05", "UR-07"]
bdd: ["BDD-AUDIO"]
north_stars: ["NS-1", "NS-3"]
status: done
---
    # T-15: Azure Speech pronunciation assessment backend (free-tier only)

    ## Goal
    Provide a real pronunciation assessment backend via Azure Speech, gated by explicit backend selection.

    ## Deliverables
    - Backend id `azure.speech` for `audio.assess` and `audio.process-voice`
- Speech SDK integration with deterministic params (zh-CN, grading system, granularity)
- Artifacts:
  - raw Azure JSON response
  - normalized assessment JSON
  - transcript JSON
- Free-tier only: surface quota/limit errors; no paid fallback
- Secrets via env vars (no CLI flags)

    ## Acceptance criteria
    - `audio.assess --backend azure.speech` returns assessment + artifacts
- `audio.process-voice --backend azure.speech` returns required artifacts (normalized_input, transcript, assessment, feedback_voice_note)
- On quota/auth errors, CLI returns typed error code + details
- Docs updated with setup instructions and free-tier cap behavior

    ## Test plan (RGR)
    - Integration: real Azure backend on a small fixture when credentials present
- Unit: error mapping and JSON normalization


## Notes
Implemented azure.speech backend with Speech SDK integration, raw/normalized artifacts, and free-tier quota error mapping.
