---
id: T-02
title: Workspace management: paths, backups, artifact store, path safety
order: 2
depends_on: ["T-01"]
blocks: ["T-03", "T-05", "T-08", "T-11"]
user_requirements: ["UR-03", "UR-09"]
bdd: ["BDD-ZFC"]
north_stars: ["NS-3", "NS-2"]
status: planned
---
    # T-02: Workspace management: paths, backups, artifact store, path safety

    ## Goal
    Implement workspace directory conventions, artifact storage, and filesystem safety.

    ## Deliverables
    - Config:
  - `CHLEARN_WORKSPACE_DIR`, `CHLEARN_DB_PATH`
- Ensure workspace exists; create subdirs:
  - `artifacts/`, `cache/`, `exports/`, `backups/`
- Path traversal prevention for all outputs
- Backup helper: daily backup file naming (mechanical)


    ## Acceptance criteria
    - Engine never writes outside workspace
- Artifact paths are validated and normalized
- Workspace can be pointed to temp dir in tests via env vars


    ## Test plan (RGR)
    - Unit: path traversal tests
- Integration: `chlearn doctor` (to be added) prints resolved paths

