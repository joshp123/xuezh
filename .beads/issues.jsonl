{"id":"xuezh-1u6","title":"Fix devenv so  evaluates and check.sh can run","description":"Goal\n- Make `devenv shell` work on a fresh clone and provide the required toolchain for this repo.\n\nCurrent blocker\n- `devenv shell` fails because `languages.nodejs` option does not exist in devenv 1.11.x.\n\nScope\n- Update `devenv.nix` to use supported language options (or remove Node entirely if unused).\n- Ensure required runtime tools are available (git, jq, ffmpeg, yt-dlp, gh).\n- Ensure python venv support is intact (Python 3.11).\n\nNon-goals\n- No feature implementation; only dev environment correctness.","acceptance_criteria":"Acceptance\n- `devenv shell --help` works (sanity) and `devenv shell bash -lc \"python -V\"` succeeds.\n- `devenv shell bash -lc \"python -m pip install -e \".[dev]\"\"` succeeds.\n- `devenv shell bash -lc \"./scripts/check.sh\"` succeeds (after step 2 rename is merged).\n\nNotes\n- Keep config minimal; add tools only when required by scripts/tests.","status":"in_progress","priority":0,"issue_type":"chore","created_at":"2025-12-18T16:59:20.753235+01:00","updated_at":"2025-12-18T17:12:18.99295+01:00","dependencies":[{"issue_id":"xuezh-1u6","depends_on_id":"xuezh-tv8","type":"blocks","created_at":"2025-12-18T16:59:20.756295+01:00","created_by":"daemon"}]}
{"id":"xuezh-oex","title":"Make audio pipeline spec pluggable with deterministic backends","description":"Goal\n- Treat audio as pluggable backends so tests/CI are deterministic and do not depend on network, paid APIs, or large model downloads.\n\nScope\n- Update CLI contract + machine-readable contract to include backend selection (env var + optional CLI flag).\n- Define a deterministic `mock` backend contract for:\n  - `audio tts`\n  - `audio stt`\n  - `audio assess`\n  - `audio process-voice`\n- Update BDD scenarios to invoke audio commands with the deterministic backend (or set env var) so they are CI-safe once implemented.\n- Update schemas as needed to reflect backend selection/reporting.\n\nNon-goals\n- Do not implement the full audio pipeline yet; this is spec + contract + test-harness work only.","design":"Design notes\n- Prefer explicit configuration over autodetection (avoid heuristics/ZFC violations).\n- Use a single env var (e.g. `XUEZH_AUDIO_BACKEND`) with optional per-command override flag if needed.\n- Keep Azure/pronunciation paid mode gated behind explicit flags + secrets; document clearly.","acceptance_criteria":"Acceptance\n- `docs/cli-contract.md` + `specs/cli/contract.json` specify how to choose an audio backend deterministically.\n- BDD audio scenarios are updated to use the deterministic backend selection mechanism.\n- Contract sync tests still pass (schema/BDD/contract alignment).\n- No new CI requirement for secrets/network for the default backend.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-18T16:59:41.545559+01:00","updated_at":"2025-12-18T16:59:41.545559+01:00","dependencies":[{"issue_id":"xuezh-oex","depends_on_id":"xuezh-tfz","type":"blocks","created_at":"2025-12-18T16:59:41.548123+01:00","created_by":"daemon"}]}
{"id":"xuezh-tfz","title":"Add CI to run scripts/check.sh on push/PR","description":"Goal\n- Add GitHub Actions CI so contract rails are enforced remotely.\n\nScope\n- Add `.github/workflows/ci.yml` that runs on push + PR.\n- Use Nix/devenv to ensure a consistent environment (no brew).\n- Run the same gates as local: `./scripts/check.sh`.\n- Keep runtime stable: tests must be deterministic and not require external services by default.","acceptance_criteria":"Acceptance\n- CI workflow exists and runs on PRs and pushes to main.\n- Workflow runs `./scripts/check.sh` successfully in a clean runner.\n- CI does not require secrets for default test run.\n\nNotes\n- It is OK to skip macOS initially; start with ubuntu-latest unless there is a strong reason.","status":"open","priority":1,"issue_type":"chore","created_at":"2025-12-18T16:59:30.016481+01:00","updated_at":"2025-12-18T16:59:30.016481+01:00","dependencies":[{"issue_id":"xuezh-tfz","depends_on_id":"xuezh-1u6","type":"blocks","created_at":"2025-12-18T16:59:30.019295+01:00","created_by":"daemon"}]}
{"id":"xuezh-tv8","title":"Rename project/tooling from chlearn -\u003e xuezh","description":"Goal\n- Full rename: Python package, CLI binary, env vars, docs/specs/tests.\n\nScope\n- Rename package `chlearn` -\u003e `xuezh` (src layout, imports, module paths).\n- Rename CLI entrypoint `chlearn` -\u003e `xuezh` (pyproject scripts).\n- Rename env vars: `CHLEARN_*` -\u003e `XUEZH_*` (workspace + db path at minimum).\n- Update default workspace dir path to a new xuezh-specific location.\n- Update all docs/specs/skills/BDD strings that mention the command name.\n\nNon-goals\n- No functional feature implementation beyond keeping current stubs working under the new name.","design":"Implementation notes\n- Prefer a clean break (no alias binary) unless you explicitly decide to keep compatibility.\n- If changing workspace directory default, document the migration implications (this is a new project, so it should be fine).\n- Keep commit mechanical: rename + string updates; avoid unrelated refactors.","acceptance_criteria":"Acceptance\n- `python -m pip install -e .[dev]` installs a runnable `xuezh` CLI.\n- `xuezh version --json` returns a valid OK envelope (schema-valid).\n- All BDD feature files invoke `xuezh ...` (no `chlearn` references).\n- `specs/cli/contract.json` + `docs/cli-contract.md` updated to `xuezh` and still pass contract sync tests.\n- No remaining `chlearn` imports or `CHLEARN_` env var usage in source/tests/docs (except possibly historical notes explicitly called out).\n\nValidation\n- Run `./scripts/check.sh` in devenv.","notes":"Rename changes committed, but validation is blocked until devenv is fixed (see xuezh-1u6).","status":"blocked","priority":1,"issue_type":"chore","created_at":"2025-12-18T16:59:07.51651+01:00","updated_at":"2025-12-18T17:12:12.379489+01:00"}
{"id":"xuezh-ylw","title":"Clean up contract/spec/skill drift and tighten lint","description":"Goal\n- Remove small inconsistencies so the repo is “idiot-proof” before implementation starts.\n\nScope (examples already observed)\n- Align tickets vs contract: remove/adjust references to commands not in `specs/cli/contract.json` (e.g. `report progress`).\n- Fix Skill examples to use valid item IDs (per `specs/id-scheme.md`) and current CLI flags.\n- Eliminate obvious lint issues that will break `./scripts/check.sh` once devenv works (unused imports, formatting).\n- Ensure docs/README/workspace/env var docs match the renamed tool + backend selection rules.\n\nNon-goals\n- No feature logic beyond keeping the scaffold consistent and checkable.","acceptance_criteria":"Acceptance\n- `./scripts/check.sh` passes locally (in devenv).\n- No drift between `docs/cli-contract.md`, `specs/cli/contract.json`, `schemas/`, `specs/bdd/`, and Skill references.\n- Skill examples are copy/paste-able and use valid IDs/flags.","status":"open","priority":1,"issue_type":"chore","created_at":"2025-12-18T16:59:49.628522+01:00","updated_at":"2025-12-18T16:59:49.628522+01:00","dependencies":[{"issue_id":"xuezh-ylw","depends_on_id":"xuezh-oex","type":"blocks","created_at":"2025-12-18T16:59:49.631665+01:00","created_by":"daemon"}]}
